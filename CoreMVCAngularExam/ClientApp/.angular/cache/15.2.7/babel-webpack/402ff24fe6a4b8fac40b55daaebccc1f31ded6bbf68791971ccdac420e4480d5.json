{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PhoneNumber {}\nexport class PhoneNumberDataService {\n  constructor(http, baseUrl) {\n    this.http = http;\n    this.phoneNumbers = [];\n    this.http = http;\n    this.baseUrl = baseUrl;\n  }\n  getPhoneNumbers() {\n    return this.http.get(`https://localhost:7217/api/PhoneNumbers`);\n  }\n  showAll() {\n    this.http.get(`https://localhost:7217/api/PhoneNumbers`).subscribe(result => {\n      //this.phoneNumbers = result;\n      this.phoneNumbers.length = 0;\n      this.phoneNumbers.push(...result);\n      console.log(result);\n    }, error => console.error(error));\n  }\n  addPhoneNumber(newPhoneNumber) {\n    const body = {\n      numberPhone: newPhoneNumber\n    };\n    console.log(newPhoneNumber);\n    this.http.post(`https://localhost:7217/api/PhoneNumbers`, body).subscribe(result => {\n      this.showAll();\n    }, error => console.error('Error adding category:', error));\n  }\n  updatePhoneNumber(phoneId, numberPhone) {\n    const body = {\n      phoneId: phoneId,\n      numberPhone: numberPhone\n    };\n    console.log(\"categoryData:\", phoneId, numberPhone);\n    return this.http.put(`https://localhost:7217/api/PhoneNumbers/${phoneId}`, body);\n  }\n  deletePhoneNumber(phoneId) {\n    this.http.delete(`https://localhost:7217/api/PhoneNumbers/${phoneId}`).subscribe(result => {\n      this.showAll();\n    }, error => console.error(error));\n  }\n}\nPhoneNumberDataService.ɵfac = function PhoneNumberDataService_Factory(t) {\n  return new (t || PhoneNumberDataService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject('BASE_URL'));\n};\nPhoneNumberDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PhoneNumberDataService,\n  factory: PhoneNumberDataService.ɵfac\n});","map":{"version":3,"mappings":";;AAIA,OAAM,MAAOA,WAAW;AAMxB,OAAM,MAAOC,sBAAsB;EAK/BC,YAAoBC,IAAgB,EAAsBC,OAAe;IAArD,SAAI,GAAJD,IAAI;IAHnB,iBAAY,GAAkB,EAAE;IAIjC,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAC1B;EAEAC,eAAe;IACb,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAQ,yCAAyC,CAAC;EACxE;EAEAC,OAAO;IACL,IAAI,CAACJ,IAAI,CAACG,GAAG,CAAgB,yCAAyC,CAAC,CAACE,SAAS,CAACC,MAAM,IAAG;MACzF;MACA,IAAI,CAACC,YAAY,CAACC,MAAM,GAAG,CAAC;MAC5B,IAAI,CAACD,YAAY,CAACE,IAAI,CAAC,GAAGH,MAAuB,CAAC;MAClDI,OAAO,CAACC,GAAG,CAACL,MAAM,CAAC;IACrB,CAAC,EAAEM,KAAK,IAAIF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC,CAAC;EACnC;EAEFC,cAAc,CAACC,cAA2B;IACxC,MAAMC,IAAI,GAAG;MACXC,WAAW,EAAEF;KACd;IACDJ,OAAO,CAACC,GAAG,CAACG,cAAc,CAAC;IAC3B,IAAI,CAACd,IAAI,CAACiB,IAAI,CAAC,yCAAyC,EAAEF,IAAI,CAAC,CAACV,SAAS,CACvEC,MAAM,IAAG;MACP,IAAI,CAACF,OAAO,EAAE;IAChB,CAAC,EACDQ,KAAK,IAAIF,OAAO,CAACE,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC,CACxD;EACH;EAEAM,iBAAiB,CAACC,OAAe,EAAEH,WAAmB;IACpD,MAAMD,IAAI,GAAG;MACXI,OAAO,EAAEA,OAAO;MAChBH,WAAW,EAAEA;KACd;IACDN,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEQ,OAAO,EAAEH,WAAW,CAAC;IAClD,OAAO,IAAI,CAAChB,IAAI,CAACoB,GAAG,CAAC,2CAA2CD,OAAO,EAAE,EAAEJ,IAAI,CAAC;EAClF;EAGAM,iBAAiB,CAACF,OAAe;IAC/B,IAAI,CAACnB,IAAI,CAACsB,MAAM,CAAC,2CAA2CH,OAAO,EAAE,CAAC,CAACd,SAAS,CAC9EC,MAAM,IAAG;MACP,IAAI,CAACF,OAAO,EAAE;IAChB,CAAC,EACDQ,KAAK,IAAIF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC,CAC9B;EACH;;AArDWd,sBAAsB;mBAAtBA,sBAAsB,0CAKe,UAAU;AAAA;AAL/CA,sBAAsB;SAAtBA,sBAAsB;EAAAyB,SAAtBzB,sBAAsB;AAAA","names":["PhoneNumber","PhoneNumberDataService","constructor","http","baseUrl","getPhoneNumbers","get","showAll","subscribe","result","phoneNumbers","length","push","console","log","error","addPhoneNumber","newPhoneNumber","body","numberPhone","post","updatePhoneNumber","phoneId","put","deletePhoneNumber","delete","factory"],"sourceRoot":"","sources":["F:\\STEP\\My_Project\\Angular\\CoreMvcAngularExam\\CoreMVCAngularExam\\ClientApp\\src\\app\\phoneNumbers\\phoneNumbersdata.service.ts"],"sourcesContent":["import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class PhoneNumber {\r\n  phoneId: number | undefined;\r\n  numberPhone: string | undefined;\r\n}\r\n\r\n@Injectable()\r\nexport class PhoneNumberDataService {\r\n\r\n  public phoneNumbers: PhoneNumber[] = [];\r\n    baseUrl: string;\r\n\r\n    constructor(private http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n    }\r\n    \r\n    getPhoneNumbers(): Observable<any[]> {\r\n      return this.http.get<any[]>(`https://localhost:7217/api/PhoneNumbers`);\r\n    }\r\n\r\n    showAll() {\r\n      this.http.get<PhoneNumber[]>(`https://localhost:7217/api/PhoneNumbers`).subscribe(result => {\r\n        //this.phoneNumbers = result;\r\n        this.phoneNumbers.length = 0;\r\n        this.phoneNumbers.push(...result as PhoneNumber[]);\r\n        console.log(result);\r\n      }, error => console.error(error));\r\n    }\r\n\r\n  addPhoneNumber(newPhoneNumber: PhoneNumber) {\r\n    const body = {\r\n      numberPhone: newPhoneNumber \r\n    };\r\n    console.log(newPhoneNumber);\r\n    this.http.post(`https://localhost:7217/api/PhoneNumbers`, body).subscribe(\r\n      result => {\r\n        this.showAll();\r\n      },\r\n      error => console.error('Error adding category:', error)\r\n    );\r\n  }\r\n\r\n  updatePhoneNumber(phoneId: number, numberPhone: string): Observable<any> {\r\n    const body = {\r\n      phoneId: phoneId,\r\n      numberPhone: numberPhone\r\n    };\r\n    console.log(\"categoryData:\", phoneId, numberPhone);\r\n    return this.http.put(`https://localhost:7217/api/PhoneNumbers/${phoneId}`, body);\r\n  }\r\n\r\n\r\n  deletePhoneNumber(phoneId: number): void {\r\n    this.http.delete(`https://localhost:7217/api/PhoneNumbers/${phoneId}`).subscribe(\r\n      result => {\r\n        this.showAll();\r\n      },\r\n      error => console.error(error)\r\n    );\r\n  }\r\n\r\n  \r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}