{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Validators } from '@angular/forms';\nlet EditContactDialogComponent = class EditContactDialogComponent {\n  constructor(dialogRef, formBuilder, data) {\n    this.dialogRef = dialogRef;\n    this.formBuilder = formBuilder;\n    this.data = data;\n    this.contactForm = this.formBuilder.group({\n      contactId: [this.contact?.contactId || '', Validators.required],\n      firstName: [this.contact?.firstName || '', Validators.required],\n      lastName: [this.contact?.lastName || '', Validators.required],\n      categoryId: [this.contact?.categoryId || '', Validators.required],\n      phoneId: [this.contact?.phoneId || '', Validators.required]\n    });\n    // Убедимся, что данные переданы и установим значения формы\n    this.editedContact = data.editedContact || undefined;\n    if (this.editedContact) {\n      this.contactForm.patchValue(this.editedContact);\n    }\n  }\n  onSubmit() {\n    if (this.contactForm.valid) {\n      this.dialogRef.close(this.contactForm.value);\n    }\n  }\n  onCancel() {\n    this.dialogRef.close();\n  }\n};\nEditContactDialogComponent = __decorate([Component({\n  selector: 'app-edit-contact-dialog',\n  templateUrl: './edit-contact-dialog.component.html',\n  styleUrls: ['./edit-contact-dialog.component.css']\n}), __param(2, Inject(MAT_DIALOG_DATA))], EditContactDialogComponent);\nexport { EditContactDialogComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,eAAe;AACjD,SAAuBC,eAAe,QAAQ,0BAA0B;AACxE,SAAiCC,UAAU,QAAQ,gBAAgB;AAQ5D,IAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAKrCC,YACUC,SAAmD,EACnDC,WAAwB,EACAC,IAEnC;IAJW,cAAS,GAATF,SAAS;IACT,gBAAW,GAAXC,WAAW;IACa,SAAI,GAAJC,IAAI;IAIpC,IAAI,CAACC,WAAW,GAAG,IAAI,CAACF,WAAW,CAACG,KAAK,CAAC;MACxCC,SAAS,EAAE,CAAC,IAAI,CAACC,OAAO,EAAED,SAAS,IAAI,EAAE,EAAER,UAAU,CAACU,QAAQ,CAAC;MAC/DC,SAAS,EAAE,CAAC,IAAI,CAACF,OAAO,EAAEE,SAAS,IAAI,EAAE,EAAEX,UAAU,CAACU,QAAQ,CAAC;MAC/DE,QAAQ,EAAE,CAAC,IAAI,CAACH,OAAO,EAAEG,QAAQ,IAAI,EAAE,EAAEZ,UAAU,CAACU,QAAQ,CAAC;MAC7DG,UAAU,EAAE,CAAC,IAAI,CAACJ,OAAO,EAAEI,UAAU,IAAI,EAAE,EAAEb,UAAU,CAACU,QAAQ,CAAC;MACjEI,OAAO,EAAE,CAAC,IAAI,CAACL,OAAO,EAAEK,OAAO,IAAI,EAAE,EAAEd,UAAU,CAACU,QAAQ;KAC3D,CAAC;IAEF;IACA,IAAI,CAACK,aAAa,GAAGV,IAAI,CAACU,aAAa,IAAIC,SAAS;IACpD,IAAI,IAAI,CAACD,aAAa,EAAE;MACtB,IAAI,CAACT,WAAW,CAACW,UAAU,CAAC,IAAI,CAACF,aAAa,CAAC;;EAEnD;EAEAG,QAAQ;IACN,IAAI,IAAI,CAACZ,WAAW,CAACa,KAAK,EAAE;MAC1B,IAAI,CAAChB,SAAS,CAACiB,KAAK,CAAC,IAAI,CAACd,WAAW,CAACe,KAAK,CAAC;;EAEhD;EAEAC,QAAQ;IACN,IAAI,CAACnB,SAAS,CAACiB,KAAK,EAAE;EACxB;CACD;AApCYnB,0BAA0B,eALtCJ,SAAS,CAAC;EACT0B,QAAQ,EAAE,yBAAyB;EACnCC,WAAW,EAAE,sCAAsC;EACnDC,SAAS,EAAE,CAAC,qCAAqC;CAClD,CAAC,EASGC,iBAAM,CAAC3B,eAAe,CAAC,IARfE,0BAA0B,CAoCtC;SApCYA,0BAA0B","names":["Component","Inject","MAT_DIALOG_DATA","Validators","EditContactDialogComponent","constructor","dialogRef","formBuilder","data","contactForm","group","contactId","contact","required","firstName","lastName","categoryId","phoneId","editedContact","undefined","patchValue","onSubmit","valid","close","value","onCancel","selector","templateUrl","styleUrls","__param"],"sourceRoot":"","sources":["F:\\STEP\\My_Project\\Angular\\CoreMvcAngularExam\\CoreMVCAngularExam\\ClientApp\\src\\app\\edit-contact-dialog\\edit-contact-dialog.component.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Contact } from '../contacts/contactdata.service';\n\n@Component({\n  selector: 'app-edit-contact-dialog',\n  templateUrl: './edit-contact-dialog.component.html',\n  styleUrls: ['./edit-contact-dialog.component.css']\n})\nexport class EditContactDialogComponent {\n  public contactForm: FormGroup;\n  public editedContact: Contact | undefined;\n    contact: any;\r\n\n  constructor(\n    private dialogRef: MatDialogRef<EditContactDialogComponent>,\n    private formBuilder: FormBuilder,\n    @Inject(MAT_DIALOG_DATA) public data: {\r\n        contact: any; editedContact: Contact \r\n}\n  ) {\n    this.contactForm = this.formBuilder.group({\n      contactId: [this.contact?.contactId || '', Validators.required],\r\n      firstName: [this.contact?.firstName || '', Validators.required],\r\n      lastName: [this.contact?.lastName || '', Validators.required],\r\n      categoryId: [this.contact?.categoryId || '', Validators.required],\r\n      phoneId: [this.contact?.phoneId || '', Validators.required]\n    });\n\n    // Убедимся, что данные переданы и установим значения формы\n    this.editedContact = data.editedContact || undefined;\n    if (this.editedContact) {\n      this.contactForm.patchValue(this.editedContact);\n    }\n  }\n\n  onSubmit() {\n    if (this.contactForm.valid) {\n      this.dialogRef.close(this.contactForm.value);\n    }\n  }\n\n  onCancel() {\n    this.dialogRef.close();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}